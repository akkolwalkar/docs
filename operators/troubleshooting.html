<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Troubleshooting | Oasis Dev Docs</title>
    <meta name="description" content="Oasis Developer Documentation">
    <link rel="icon" href="/favicon.ico">
  <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-116576458-1"></script>
  <script>window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'UA-116576458-1');</script>
  <script>var APP_ID = "scny7003";

       window.intercomSettings = {
         app_id: APP_ID
       };

       function intercom(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/' + APP_ID;var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}};
       intercom();
      </script>
    
    <link rel="preload" href="/assets/css/0.styles.f2c7873e.css" as="style"><link rel="preload" href="/assets/js/app.311c8b90.js" as="script"><link rel="preload" href="/assets/js/2.220ffd09.js" as="script"><link rel="preload" href="/assets/js/32.3459d18c.js" as="script"><link rel="prefetch" href="/assets/js/10.7fd79781.js"><link rel="prefetch" href="/assets/js/11.0cdf2584.js"><link rel="prefetch" href="/assets/js/12.65c56f83.js"><link rel="prefetch" href="/assets/js/13.0eefef71.js"><link rel="prefetch" href="/assets/js/14.7a51b37e.js"><link rel="prefetch" href="/assets/js/15.99d467b0.js"><link rel="prefetch" href="/assets/js/16.79d266ba.js"><link rel="prefetch" href="/assets/js/17.705b34ba.js"><link rel="prefetch" href="/assets/js/18.18e23819.js"><link rel="prefetch" href="/assets/js/19.d969a524.js"><link rel="prefetch" href="/assets/js/20.3a046fc5.js"><link rel="prefetch" href="/assets/js/21.bccb1f59.js"><link rel="prefetch" href="/assets/js/22.f0cf15f9.js"><link rel="prefetch" href="/assets/js/23.23978148.js"><link rel="prefetch" href="/assets/js/24.07b268ed.js"><link rel="prefetch" href="/assets/js/25.d4ea1255.js"><link rel="prefetch" href="/assets/js/26.3c284130.js"><link rel="prefetch" href="/assets/js/27.e8fecf5c.js"><link rel="prefetch" href="/assets/js/28.81a1aa4f.js"><link rel="prefetch" href="/assets/js/29.1cf43577.js"><link rel="prefetch" href="/assets/js/3.91ed3b82.js"><link rel="prefetch" href="/assets/js/30.1ec14445.js"><link rel="prefetch" href="/assets/js/31.dc4b8eb3.js"><link rel="prefetch" href="/assets/js/33.69ebdf52.js"><link rel="prefetch" href="/assets/js/34.d9cb20c4.js"><link rel="prefetch" href="/assets/js/35.65d4ff07.js"><link rel="prefetch" href="/assets/js/36.338481bd.js"><link rel="prefetch" href="/assets/js/37.6057631b.js"><link rel="prefetch" href="/assets/js/38.036d30d0.js"><link rel="prefetch" href="/assets/js/39.4a88afa7.js"><link rel="prefetch" href="/assets/js/4.04f95edd.js"><link rel="prefetch" href="/assets/js/40.bd6b42b4.js"><link rel="prefetch" href="/assets/js/5.cd910c82.js"><link rel="prefetch" href="/assets/js/6.2c1ab5ec.js"><link rel="prefetch" href="/assets/js/7.c82934bc.js"><link rel="prefetch" href="/assets/js/8.e7940800.js"><link rel="prefetch" href="/assets/js/9.7f3621e9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f2c7873e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Oasis Dev Docs" class="logo"> <span class="site-name can-hide">Oasis Dev Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://oasislabs.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dashboard.oasiscloud.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://join.slack.com/t/oasiscommunity/shared_invite/enQtNjQ5MTA3NTgyOTkzLWIxNTg1ZWZmOTIwNmQ2MTg1YmU0MzgyMzk3OWM2ZWQ4NTQ0ZDJkNTBmMTdlM2JhODllYjg5YmJkODc2NzgwNTg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/oasislabs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://oasislabs.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://dashboard.oasiscloud.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dashboard
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://join.slack.com/t/oasiscommunity/shared_invite/enQtNjQ5MTA3NTgyOTkzLWIxNTg1ZWZmOTIwNmQ2MTg1YmU0MzgyMzk3OWM2ZWQ4NTQ0ZDJkNTBmMTdlM2JhODllYjg5YmJkODc2NzgwNTg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/oasislabs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/overview.html" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>App Developer Docs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Operator Docs</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/operators/overview.html" class="sidebar-link">Node Operator Overview</a></li><li><a href="/operators/prerequisites.html" class="sidebar-link">Prerequisites Guide</a></li><li><a href="/operators/joining-the-testnet.html" class="sidebar-link">Joining the Testnet</a></li><li><a href="/operators/creating-an-entity-package.html" class="sidebar-link">Creating an Entity Package</a></li><li><a href="/operators/current-testnet-parameters.html" class="sidebar-link">Current Testnet Parameters</a></li><li><a href="/operators/sentry-node.html" class="sidebar-link">Sentry Node Architecture</a></li><li><a href="/operators/architectural-overview.html" class="sidebar-link">Architectural Overview</a></li><li><a href="/operators/hardware-recommendations.html" class="sidebar-link">Node Hardware Recommendations</a></li><li><a href="/operators/troubleshooting.html" class="active sidebar-link">Troubleshooting Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/operators/troubleshooting.html#oasis-node-binary" class="sidebar-link">oasis-node Binary</a></li><li class="sidebar-sub-header"><a href="/operators/troubleshooting.html#running-a-node" class="sidebar-link">Running a Node</a></li><li class="sidebar-sub-header"><a href="/operators/troubleshooting.html#staking-and-registering" class="sidebar-link">Staking and Registering</a></li></ul></li><li><a href="/operators/stake-management.html" class="sidebar-link">Stake Management</a></li><li><a href="/operators/incentives-proposal.html" class="sidebar-link">Network Incentives Proposal</a></li><li><a href="/operators/the-quest-rules.html" class="sidebar-link">The Quest Rules</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Maintenance Guides</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>API Reference</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h1> <h2 id="oasis-node-binary"><a href="#oasis-node-binary" class="header-anchor">#</a> <code>oasis-node</code> Binary</h2> <h3 id="building-from-source-go-errors"><a href="#building-from-source-go-errors" class="header-anchor">#</a> Building from Source: Go Errors</h3> <p>First, make sure you have go version &gt;=go1.13.0 and protocol buffers installed
(use <code>brew install protobuf</code> on Mac).</p> <p>Error message example:</p> <div class="language-text extra-class"><pre class="language-text"><code>PWD: /home/oasis/oasis-core/go/grpc
CMD: [protoc -I ./ --go_out=plugins=grpc,paths=source_relative:. common/common.proto]
protoc-gen-go: program not found or is not executable
--go_out: protoc-gen-go: Plugin failed with status code 1.
FAILED: exit status 1
exit status 1
grpc/generate.go:3: running &quot;go&quot;: exit status 1
</code></pre></div><p>Resolve this error by ensuring you have <code>protoc-gen-go</code> installed and adding
<code>$GOPATH/bin</code> to your path:</p> <p>Check installation:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">which</span> protoc-gen-go
</code></pre></div><p>Install:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>go get github.com/golang/protobuf/protoc-gen-go
</code></pre></div><p>Add to your path variable:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$GOPATH</span>/bin
</code></pre></div><p>If you don't see a helpful error message while building, scroll up to see if
any additional information was provided.</p> <h3 id="building-from-source-rust-errors"><a href="#building-from-source-rust-errors" class="header-anchor">#</a> Building from Source: Rust Errors</h3> <p>Error message example:</p> <div class="language-text extra-class"><pre class="language-text"><code>error[E0412]: cannot find type `ucontext_t` in this scope
</code></pre></div><p>Error messages from <code>rustc</code> can be ignored; all you need from <code>oasis-core</code> are
the <code>go</code> components. In general, avoid trying to build the rust components.</p> <p>You can use the following command to stick to go:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">make</span> go
</code></pre></div><h3 id="alternative-docker-binary"><a href="#alternative-docker-binary" class="header-anchor">#</a> Alternative: Docker Binary</h3> <p>If you're having lots of trouble building from source, you can try pulling the
Docker image, then copy the contained binary to your local machine (only works
on Linux) with the following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker <span class="token function">cp</span> oasis_node:/oasis/bin/oasis_node
</code></pre></div><h2 id="running-a-node"><a href="#running-a-node" class="header-anchor">#</a> Running a Node</h2> <h3 id="invalid-permissions"><a href="#invalid-permissions" class="header-anchor">#</a> Invalid Permissions</h3> <h4 id="permissions-for-node-and-entity"><a href="#permissions-for-node-and-entity" class="header-anchor">#</a> Permissions for node and entity</h4> <p>Error Message:</p> <div class="language-text extra-class"><pre class="language-text"><code>common/Mkdir: path '/serverdir/node' has invalid permissions: -rwxr-xr-x
</code></pre></div><p>The <code>entity</code> and <code>node</code> directories both need to have permissions <code>rwx------</code>.
Make sure you initialize the directory with correct permissions or change them
using <code>chmod</code>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> --mode <span class="token number">700</span> --parents <span class="token punctuation">{</span>entity,node<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">700</span> /serverdir/node
<span class="token function">chmod</span> <span class="token number">700</span> /serverdir/entity
</code></pre></div><h4 id="permissions-for-pem-files"><a href="#permissions-for-pem-files" class="header-anchor">#</a> Permissions for .pem files</h4> <p>Error Message example:</p> <div class="language-text extra-class"><pre class="language-text"><code>signature/signer/file: invalid PEM file permissions 700 on /serverdir/node/identity.pem
</code></pre></div><p>All <code>.pem</code> files should have the permissions <code>600</code>.
You can set the permissions for all <code>.pem</code> files in a directory using the
following command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> -R <span class="token number">600</span> /path/*.pem
</code></pre></div><h4 id="serverdir-ownership"><a href="#serverdir-ownership" class="header-anchor">#</a> Serverdir Ownership</h4> <p>Another possible cause of permission issues is not giving ownership of your
<code>serverdir</code> to the user running the node (e.g. <code>docker-host</code> or replace with
your user):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chown</span> -R docker-host:docker-host /serverdir
</code></pre></div><p>In general, to avoid problems when running docker, specify the user when
running <code>docker</code> commands by adding the flag <code>--user $(id -u):$(id -g)</code>.</p> <h3 id="cannot-find-file"><a href="#cannot-find-file" class="header-anchor">#</a> Cannot Find File</h3> <p>Error Message examples:</p> <div class="language-text extra-class"><pre class="language-text"><code>no such file or directory
</code></pre></div><div class="language-text extra-class"><pre class="language-text"><code>file does not exist
</code></pre></div> <div class="language-text extra-class"><pre class="language-text"><code>ts=2019-11-17T03:42:09.778647033Z level=error module=cmd/registry/node caller=node.go:127 msg=&quot;failed to load entity&quot; err=&quot;file does not exist&quot;
</code></pre></div> <p>More often than you'd expect, this error is the result of setting the path
incorrectly.
You may have left something like <code>--genesis.file $GENESIS_FILE_PATH</code> in the
command without setting <code>$GENESIS_FILE_PATH</code> first, or set the path incorrectly.
Check that <code>echo $GENESIS_FILE_PATH</code> matches your expectation or provide a path
in the command.</p> <p>Another possible cause: the files in your localhost directory cannot be read
from the container. Make sure to run commands in the same session within the
container.</p> <h2 id="staking-and-registering"><a href="#staking-and-registering" class="header-anchor">#</a> Staking and Registering</h2> <h3 id="transaction-out-of-gas"><a href="#transaction-out-of-gas" class="header-anchor">#</a> Transaction Out of Gas</h3> <p>Error message:</p> <div class="language-text extra-class"><pre class="language-text"><code>module=cmd/stake caller=stake.go:70 msg=&quot;failed to submit transaction&quot; err=&quot;rpc error: code = Unknown desc = staking: add escrow transaction failed: out of gas&quot; attempt=1
</code></pre></div> <p>The docs are now updated to show that you need to add
<code>--stake.transaction.fee.gas</code> and <code>--stake.transaction.fee.amount</code> flags when
generating your transaction. Note that if you're re-generating a transaction,
you will need to increment the <code>--nonce</code> flag.</p> <h3 id="ssh-tunnel"><a href="#ssh-tunnel" class="header-anchor">#</a> SSH Tunnel</h3> <p>Note that this portion may not be relevant in future versions.</p> <p>Error message example:</p> <div class="language-text extra-class"><pre class="language-text"><code>bind: Cannot assign requested address
</code></pre></div><p>This error was encountered while trying to create ssh tunnel from localhost's
Docker container, and was fixed by making the <code>oasis-node</code> binary from source
instead of using the Docker image.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/oasislabs/docs/edit/master/src/operators/troubleshooting.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/operators/hardware-recommendations.html" class="prev">Node Hardware Recommendations</a></span> <span class="next"><a href="/operators/stake-management.html">Stake Management</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.311c8b90.js" defer></script><script src="/assets/js/2.220ffd09.js" defer></script><script src="/assets/js/32.3459d18c.js" defer></script>
  </body>
</html>

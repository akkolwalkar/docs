<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ledger Support | Oasis Dev Docs</title>
    <meta name="description" content="Oasis Developer Documentation">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/favicon.ico">
  <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-116576458-1"></script>
  <script>window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'UA-116576458-1');</script>
  <script>var APP_ID = "scny7003";

       window.intercomSettings = {
         app_id: APP_ID
       };

       function intercom(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/' + APP_ID;var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}};
       intercom();
      </script>
    
    <link rel="preload" href="/assets/css/0.styles.af6d4496.css" as="style"><link rel="preload" href="/assets/js/app.7bc79492.js" as="script"><link rel="preload" href="/assets/js/2.b8176708.js" as="script"><link rel="preload" href="/assets/js/18.bbd499a4.js" as="script"><link rel="prefetch" href="/assets/js/10.e6a51014.js"><link rel="prefetch" href="/assets/js/11.4c125c7a.js"><link rel="prefetch" href="/assets/js/12.2e0b9732.js"><link rel="prefetch" href="/assets/js/13.bc58b380.js"><link rel="prefetch" href="/assets/js/14.562cae79.js"><link rel="prefetch" href="/assets/js/15.1f64cf44.js"><link rel="prefetch" href="/assets/js/16.b785d4b9.js"><link rel="prefetch" href="/assets/js/17.ad7b98bd.js"><link rel="prefetch" href="/assets/js/19.945f1a10.js"><link rel="prefetch" href="/assets/js/20.1814e945.js"><link rel="prefetch" href="/assets/js/21.e4fbc68b.js"><link rel="prefetch" href="/assets/js/22.b923b03a.js"><link rel="prefetch" href="/assets/js/23.b09b17c8.js"><link rel="prefetch" href="/assets/js/24.7831cfe8.js"><link rel="prefetch" href="/assets/js/25.9fc3125c.js"><link rel="prefetch" href="/assets/js/26.9e3799a9.js"><link rel="prefetch" href="/assets/js/27.1de4a752.js"><link rel="prefetch" href="/assets/js/28.827a6385.js"><link rel="prefetch" href="/assets/js/29.734916bb.js"><link rel="prefetch" href="/assets/js/3.ad365388.js"><link rel="prefetch" href="/assets/js/30.86e81109.js"><link rel="prefetch" href="/assets/js/31.78eaad98.js"><link rel="prefetch" href="/assets/js/32.e412e302.js"><link rel="prefetch" href="/assets/js/33.ae1c9a7f.js"><link rel="prefetch" href="/assets/js/34.86b0b2a2.js"><link rel="prefetch" href="/assets/js/35.e421489a.js"><link rel="prefetch" href="/assets/js/36.7e467abb.js"><link rel="prefetch" href="/assets/js/37.ae83eb94.js"><link rel="prefetch" href="/assets/js/38.a610d14e.js"><link rel="prefetch" href="/assets/js/39.6691f73d.js"><link rel="prefetch" href="/assets/js/4.a9d65326.js"><link rel="prefetch" href="/assets/js/40.194749a3.js"><link rel="prefetch" href="/assets/js/41.0dfbcb92.js"><link rel="prefetch" href="/assets/js/42.42eaa1e1.js"><link rel="prefetch" href="/assets/js/43.436c8868.js"><link rel="prefetch" href="/assets/js/5.fa5598d4.js"><link rel="prefetch" href="/assets/js/6.b94313be.js"><link rel="prefetch" href="/assets/js/7.23f11fd8.js"><link rel="prefetch" href="/assets/js/8.53f78360.js"><link rel="prefetch" href="/assets/js/9.81a245b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.af6d4496.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Oasis Dev Docs" class="logo"> <span class="site-name can-hide">Oasis Dev Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://oasislabs.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://join.slack.com/t/oasiscommunity/shared_invite/enQtNjQ5MTA3NTgyOTkzLWIxNTg1ZWZmOTIwNmQ2MTg1YmU0MzgyMzk3OWM2ZWQ4NTQ0ZDJkNTBmMTdlM2JhODllYjg5YmJkODc2NzgwNTg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/oasislabs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://oasislabs.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://join.slack.com/t/oasiscommunity/shared_invite/enQtNjQ5MTA3NTgyOTkzLWIxNTg1ZWZmOTIwNmQ2MTg1YmU0MzgyMzk3OWM2ZWQ4NTQ0ZDJkNTBmMTdlM2JhODllYjg5YmJkODc2NzgwNTg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/oasislabs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/overview.html" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>App Developer Docs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Operator Docs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>API Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>HSM Support</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hsm/ledger.html" class="active sidebar-link">Ledger</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hsm/ledger.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#interacting-with-ledger-app" class="sidebar-link">Interacting with Ledger App</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#exporting-the-public-key-to-entity" class="sidebar-link">Exporting the Public Key to Entity</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#signing-transactions" class="sidebar-link">Signing Transactions</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ledger-support"><a href="#ledger-support" class="header-anchor">#</a> Ledger Support</h1> <p>Ledger is one of the HSM platforms that Oasis supports for Mainnet Launch.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>Before following this guide, make sure you've followed the <a href="/hsm/prerequisites.html">Prerequisites
Guide</a> to install the <code>oasis-node</code> binary.</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>To use with the Ledger App, install the Ledger application from
the Ledger Live Manager. You will have to set developer mode to 'on' in order
to find it.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>The Oasis Ledger App will not be available for download until after it has been
approved be Ledger.</p></div> <p>Once installed, the application will use the generated mnemonic stored on the
device to generate the keys.</p> <h2 id="interacting-with-ledger-app"><a href="#interacting-with-ledger-app" class="header-anchor">#</a> Interacting with Ledger App</h2> <p>To interact with the Ledger App, use the <code>oasis-node</code> binary like so:</p> <p>To identify your device, unlock your device and make sure that you have the
Oasis App open. Run the following command to identify your device by generated
address:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>oasis-node signer ledger list_devices
</code></pre></div><p>If your device is properly connected, you should see an output like so:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span> Device found
Oasis App Version <span class="token builtin class-name">:</span> 302e31322e33
Oasis App Address <span class="token builtin class-name">:</span> oasis19hpt4y2reqwyfqcd53asjchdqf468chr673y6jn07xjp36w32jlscf0me
</code></pre></div><p>From now on, we will use the <code>Oasis App Address</code> to identify the Ledger device
we want to use for signing.</p> <h2 id="exporting-the-public-key-to-entity"><a href="#exporting-the-public-key-to-entity" class="header-anchor">#</a> Exporting the Public Key to Entity</h2> <p>Before we can sign anything, we need to export the public key from the device
and using it to generate an entity. This will be later used as another check to
ensure that you are signing with the correct key. Using the address we retrieved
from the previous section, run the following:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>oasis-node signer <span class="token builtin class-name">export</span> <span class="token punctuation">\</span>
  --signer ledger <span class="token punctuation">\</span>
  --signer.dir /path/to/entity <span class="token punctuation">\</span>
  --signer.ledger.address oasis19hpt4y2reqwyfqcd53asjchdqf468chr673y6jn07xjp36w32jlscf0me <span class="token punctuation">\</span>
  --signer.ledger.index <span class="token number">1</span>
</code></pre></div><p>This will create an <code>entity.json</code> file in <code>/path/to/entity</code> that contains the
public key generated on the device associated with <code>--signer.ledger.address</code>,
derived from a path with an account index of <code>--signer.ledger.index</code>. The
<code>--signer ledger</code> flag is important here as it specifies use of a Ledger
backend.</p> <p>This command must be run anytime a new account index is to be used, with a
new <code>/path/to/entity</code> provided.</p> <h2 id="signing-transactions"><a href="#signing-transactions" class="header-anchor">#</a> Signing Transactions</h2> <p>To sign transactions with the Ledger App, run the <code>oasis-node stake account gen_&lt;transaction_type&gt;</code> command, and specify the <code>--signer ledger</code> flag.
For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>oasis-node stake account gen_burn <span class="token punctuation">\</span>
  --signer.dir /path/to/entity <span class="token punctuation">\</span>
  --signer ledger <span class="token punctuation">\</span>
  --signer.ledger.address oasis19hpt4y2reqwyfqcd53asjchdqf468chr673y6jn07xjp36w32jlscf0me <span class="token punctuation">\</span>
  --signer.ledger.index <span class="token number">1</span> <span class="token punctuation">\</span>
  --genesis.file <span class="token variable">$GENESIS_PATH</span> <span class="token punctuation">\</span>
  --transaction.fee.amount <span class="token number">1</span> <span class="token punctuation">\</span>
  --transaction.fee.gas <span class="token number">1000</span> <span class="token punctuation">\</span>
  --transaction.file burn.tx
</code></pre></div><p>The <code>--signer.ledger.address</code> and <code>--signer.ledger.index</code> flags should match
those provided to the command in the previous section. If the public key of
the entity in <code>/path/to/entity</code> does not match that derived by the Ledger
device, the command will fail.</p> <p>The transaction fields need to be confirmed the Ledger device before signing.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/oasislabs/docs/edit/master/src/hsm/ledger.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api-reference/client/utils.html" class="prev">
        oasis.utils
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7bc79492.js" defer></script><script src="/assets/js/2.b8176708.js" defer></script><script src="/assets/js/18.bbd499a4.js" defer></script>
  </body>
</html>
